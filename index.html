<!DOCTYPE html>
<html lang="pt-BR">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Sistema de Ficha Técnica de Cozinha</title>
 <link rel="icon" href="./favicon.svg" type="image/svg+xml">
 <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
 <script>
 tailwind.config = {
 theme: {
 extend: {
 fontFamily: {
 'sans': ['Inter', 'system-ui', 'sans-serif'],
 }
 }
 }
 }
 </script>
 <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
 <script src="https://unpkg.com/lucide@latest"></script>
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 
 <!-- Firebase SDK -->
 <script type="module">
 import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js';
 import { getFirestore, collection, addDoc, getDocs, doc, updateDoc, deleteDoc, query, orderBy, where, onSnapshot } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js';
 import { getAuth, signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js';
 
 // Configuração do Firebase
 const firebaseConfig = {
 apiKey: "AIzaSyCvjYUQr1xvTskO1ZZqGHKi1d1SysvGWLc",
 authDomain: "cozinha-inteligente-2b040.firebaseapp.com",
 projectId: "cozinha-inteligente-2b040",
 storageBucket: "cozinha-inteligente-2b040.firebasestorage.app",
 messagingSenderId: "350206574229",
 appId: "1:350206574229:web:1e525a795d69e3dbd9259c"
 };
 
 // Inicializar Firebase
 const app = initializeApp(firebaseConfig);
 const firestore = getFirestore(app);
 const firebaseAuth = getAuth(app);
 
 // Tornar disponível globalmente
 window.firebaseServices = { 
 db: firestore, 
 auth: firebaseAuth, 
 collection, 
 addDoc, 
 getDocs, 
 doc, 
 updateDoc, 
 deleteDoc, 
 query, 
 orderBy, 
 where, 
 signInAnonymously, 
 onAuthStateChanged, 
 onSnapshot 
 };
 
 // Disparar evento quando Firebase estiver pronto
 window.dispatchEvent(new CustomEvent('firebaseReady'));
 </script>
 
 <style>
 body { font-family: 'Inter', sans-serif; }
 .view { display: none; }
 .view.active { display: block; }
 .sidebar-link.active { background-color: #FFFBEB; color: #D97706; border-right: 3px solid #F97316; }
 @media print {
 body * { visibility: hidden; }
 #printableArea, #printableArea * { visibility: visible; }
 #printableArea { position: absolute; left: 0; top: 0; width: 100%; }
 }
 .loading-overlay {
 position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 background: rgba(0, 0, 0, 0.5);
 z-index: 9999;
 display: none;
 align-items: center;
 justify-content: center;
 }
 .modal {
 display: none;
 position: fixed;
 z-index: 10000;
 left: 0;
 top: 0;
 width: 100%;
 height: 100%;
 background-color: rgba(0, 0, 0, 0.5);
 overflow-y: auto;
 }
 .modal-content {
 background-color: white;
 margin: 2% auto;
 border-radius: 8px;
 box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
 width: 90%;
 max-width: 800px;
 max-height: 90vh;
 overflow-y: auto;
 }
 .modal-header {
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 1.5rem 2rem;
 border-bottom: 1px solid #e5e7eb;
 }
 .modal-body {
 padding: 2rem;
 }
 .tab-content {
 margin-top: 1rem;
 }
 .active-tab {
 color: #f97316 !important;
 border-bottom-color: #f97316 !important;
 }
 </style>
</head>
<body class="bg-gray-50 text-gray-800">



 <!-- Loading Indicator -->
 <div id="loadingIndicator" class="loading-overlay">
 <div class="bg-white p-6 rounded-lg shadow-lg flex items-center space-x-3">
 <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"></div>
 <span class="text-gray-800">Carregando dados...</span>
 </div>
 </div>





 <div class="flex min-h-screen">
 <!-- Sidebar -->
 <aside class="w-64 bg-white shadow-md flex-shrink-0 flex flex-col">
 <div class="p-6 flex items-center space-x-3 border-b border-gray-200">
 <i data-lucide="chef-hat" class="h-10 w-10 text-orange-500"></i>
 <div>
 <h1 class="text-xl font-bold text-gray-800">Cozinha Inteligente</h1>
 <p class="text-xs text-gray-500">v2.0 Firebase Edition</p>
 </div>
 </div>
 <nav class="mt-6 flex-grow">
 <a href="#" onclick="showView('dashboard')" class="sidebar-link active flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="layout-dashboard" class="h-5 w-5 mr-3"></i><span>Dashboard</span>
 </a>
 <a href="#" onclick="showView('relatorios')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="line-chart" class="h-5 w-5 mr-3"></i><span>Relatórios</span>
 </a>
 <a href="#" onclick="showView('pratos')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="utensils-crossed" class="h-5 w-5 mr-3"></i><span>Pratos</span>
 </a>
 <a href="#" onclick="showView('fichas')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="notebook-tabs" class="h-5 w-5 mr-3"></i><span>Fichas Técnicas</span>
 </a>
 <a href="#" onclick="showView('insumos')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="carrot" class="h-5 w-5 mr-3"></i><span>Insumos</span>
 </a>
 <a href="#" onclick="showView('importacao')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="file-up" class="h-5 w-5 mr-3"></i><span>Importação</span>
 </a>
 </nav>
 <div class="p-6 border-t border-gray-200">
 <a href="#" onclick="showView('configuracoes')" class="sidebar-link flex items-center px-6 py-3 text-gray-600 hover:bg-gray-100">
 <i data-lucide="cog" class="h-5 w-5 mr-3"></i><span>Configurações</span>
 </a>
 </div>
 </aside>

 <!-- Main Content -->
 <main class="flex-grow p-4 sm:p-6 lg:p-8 bg-gray-100">

 <!-- Dashboard View -->
 <div id="dashboard" class="view active">
 <div class="flex items-center justify-between mb-6">
 <h2 class="text-3xl font-bold text-gray-900">Dashboard de Análises</h2>
 </div>
 
 <!-- Stats Cards -->
 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-blue-100">
 <i data-lucide="package" class="h-6 w-6 text-blue-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Total de Insumos</p>
 <p id="totalInsumos" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-green-100">
 <i data-lucide="notebook-tabs" class="h-6 w-6 text-green-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Fichas Técnicas</p>
 <p id="totalFichas" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-purple-100">
 <i data-lucide="utensils-crossed" class="h-6 w-6 text-purple-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Total de Pratos</p>
 <p id="totalPratos" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-orange-100">
 <i data-lucide="shopping-cart" class="h-6 w-6 text-orange-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Total de Compras</p>
 <p id="totalCompras" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 </div>

 <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
 <div class="bg-white p-6 rounded-lg shadow-md">
 <h3 class="text-xl font-semibold mb-4 flex items-center text-gray-800">
 <i data-lucide="trending-up" class="h-6 w-6 mr-3 text-orange-500"></i>Fichas com Maiores Variações
 </h3>
 <div class="relative h-80">
 <canvas id="dashboardFichasChart"></canvas>
 </div>
 </div>
 <div class="bg-white p-6 rounded-lg shadow-md">
 <h3 class="text-xl font-semibold mb-4 flex items-center text-gray-800">
 <i data-lucide="bar-chart-3" class="h-6 w-6 mr-3 text-orange-500"></i>Insumos com Maiores Variações
 </h3>
 <div class="relative h-80">
 <canvas id="dashboardInsumosChart"></canvas>
 </div>
 </div>
 </div>
 </div>
 
 <!-- Outras views continuam iguais... -->
 <div id="insumos" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Lista de Insumos</h2>
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex flex-col sm:flex-row justify-between items-center mb-4 gap-4">
 <h3 class="text-xl font-semibold text-gray-800">Gestão de Insumos</h3>
 <div class="flex items-center gap-2 flex-wrap">
 <button onclick="exportarInsumosCSV()" class="bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 flex items-center shadow-sm transition-colors text-sm">
 <i data-lucide="download" class="h-4 w-4 mr-2"></i>Exportar CSV
 </button>
 <select id="filterFornecedor" onchange="renderInsumos()" class="border border-gray-300 rounded-lg py-2 px-3 text-sm focus:ring-orange-500 focus:border-orange-500">
 <option value="">Todos os Fornecedores</option>
 </select>
 <select id="filterUnidade" onchange="renderInsumos()" class="border border-gray-300 rounded-lg py-2 px-3 text-sm focus:ring-orange-500 focus:border-orange-500">
 <option value="">Todas as Unidades</option>
 </select>
 <div class="relative">
 <input type="text" id="searchInput" onkeyup="renderInsumos()" placeholder="Buscar insumo..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg w-full sm:w-64 focus:ring-orange-500 focus:border-orange-500">
 <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"></i>
 </div>
 </div>
 </div>
 <div class="overflow-x-auto">
 <table class="w-full text-left">
 <thead class="bg-gray-100">
 <tr>
 <th class="p-4 font-semibold text-gray-600">Nome do Insumo</th>
 <th class="p-4 font-semibold text-gray-600">Unidade Padrão</th>
 <th class="p-4 font-semibold text-gray-600">Último Fornecedor</th>
 <th class="p-4 font-semibold text-gray-600">Último Preço</th>
 <th class="p-4 font-semibold text-gray-600">Data da Compra</th>
 <th class="p-4 font-semibold text-gray-600">Ações</th>
 </tr>
 </thead>
 <tbody id="insumosTableBody"></tbody>
 </table>
 </div>
 </div>
 </div>

 <!-- Views placeholder para outras seções -->
 <div id="relatorios" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Relatórios Gerenciais</h2>
 
 <!-- Filtros de Período -->
 <div class="bg-white p-6 rounded-lg shadow-md mb-6">
 <h3 class="text-xl font-semibold mb-4 text-gray-800">Filtros de Período</h3>
 <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
 <div>
 <label for="dataInicio" class="block text-sm font-medium text-gray-700 mb-2">Data Início</label>
 <input type="date" id="dataInicio" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-orange-500 focus:border-orange-500">
 </div>
 <div>
 <label for="dataFim" class="block text-sm font-medium text-gray-700 mb-2">Data Fim</label>
 <input type="date" id="dataFim" class="w-full border border-gray-300 rounded-lg py-2 px-3 focus:ring-orange-500 focus:border-orange-500">
 </div>
 <div class="flex items-end">
 <button onclick="gerarRelatorios()" class="w-full bg-orange-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-700 flex items-center justify-center">
 <i data-lucide="bar-chart-3" class="h-5 w-5 mr-2"></i>Gerar Relatórios
 </button>
 </div>
 </div>
 </div>

 <!-- Cards de Resumo -->
 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-blue-100">
 <i data-lucide="shopping-cart" class="h-6 w-6 text-blue-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Total Compras</p>
 <p id="relatorioTotalCompras" class="text-2xl font-bold text-gray-900">R$ 0,00</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-green-100">
 <i data-lucide="trending-up" class="h-6 w-6 text-green-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Ticket Médio</p>
 <p id="relatorioTicketMedio" class="text-2xl font-bold text-gray-900">R$ 0,00</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-purple-100">
 <i data-lucide="package" class="h-6 w-6 text-purple-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Insumos Ativos</p>
 <p id="relatorioInsumosAtivos" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <div class="flex items-center">
 <div class="p-3 rounded-full bg-orange-100">
 <i data-lucide="users" class="h-6 w-6 text-orange-600"></i>
 </div>
 <div class="ml-4">
 <p class="text-sm font-medium text-gray-600">Fornecedores</p>
 <p id="relatorioFornecedores" class="text-2xl font-bold text-gray-900">0</p>
 </div>
 </div>
 </div>
 </div>

 <!-- Gráficos -->
 <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
 <div class="bg-white p-6 rounded-lg shadow-md">
 <h3 class="text-xl font-semibold mb-4 flex items-center text-gray-800">
 <i data-lucide="pie-chart" class="h-6 w-6 mr-3 text-orange-500"></i>Distribuição por Fornecedor
 </h3>
 <div class="relative h-80">
 <canvas id="relatorioFornecedoresChart"></canvas>
 </div>
 </div>
 
 <div class="bg-white p-6 rounded-lg shadow-md">
 <h3 class="text-xl font-semibold mb-4 flex items-center text-gray-800">
 <i data-lucide="bar-chart-2" class="h-6 w-6 mr-3 text-orange-500"></i>Evolução de Gastos
 </h3>
 <div class="relative h-80">
 <canvas id="relatorioEvolucaoChart"></canvas>
 </div>
 </div>
 </div>

 <!-- Tabela de Análise de Preços -->
 <div class="bg-white p-6 rounded-lg shadow-md mb-6">
 <div class="flex justify-between items-center mb-4">
 <h3 class="text-xl font-semibold text-gray-800">Análise de Variação de Preços</h3>
 <button onclick="exportarRelatorioCSV()" class="bg-gray-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 flex items-center">
 <i data-lucide="download" class="h-4 w-4 mr-2"></i>Exportar CSV
 </button>
 </div>
 <div class="overflow-x-auto">
 <table class="w-full text-left">
 <thead class="bg-gray-100">
 <tr>
 <th class="p-4 font-semibold text-gray-600">Insumo</th>
 <th class="p-4 font-semibold text-gray-600">Preço Atual</th>
 <th class="p-4 font-semibold text-gray-600">Preço Anterior</th>
 <th class="p-4 font-semibold text-gray-600">Variação</th>
 <th class="p-4 font-semibold text-gray-600">% Variação</th>
 <th class="p-4 font-semibold text-gray-600">Status</th>
 </tr>
 </thead>
 <tbody id="relatorioVariacaoTableBody">
 <tr>
 <td colspan="6" class="text-center p-4 text-gray-500">Clique em "Gerar Relatórios" para ver os dados</td>
 </tr>
 </tbody>
 </table>
 </div>
 </div>

 <!-- Ranking de Fornecedores -->
 <div class="bg-white p-6 rounded-lg shadow-md">
 <h3 class="text-xl font-semibold mb-4 text-gray-800">Ranking de Fornecedores por Volume</h3>
 <div class="overflow-x-auto">
 <table class="w-full text-left">
 <thead class="bg-gray-100">
 <tr>
 <th class="p-4 font-semibold text-gray-600">Posição</th>
 <th class="p-4 font-semibold text-gray-600">Fornecedor</th>
 <th class="p-4 font-semibold text-gray-600">Total Compras</th>
 <th class="p-4 font-semibold text-gray-600">Qtd. Itens</th>
 <th class="p-4 font-semibold text-gray-600">Última Compra</th>
 </tr>
 </thead>
 <tbody id="relatorioFornecedoresTableBody">
 <tr>
 <td colspan="5" class="text-center p-4 text-gray-500">Clique em "Gerar Relatórios" para ver os dados</td>
 </tr>
 </tbody>
 </table>
 </div>
 </div>
 </div>

 <div id="pratos" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Pratos Finais</h2>
 
 <!-- Botão Adicionar Prato -->
 <div class="mb-6">
 <button onclick="showModal('pratoModal')" class="bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center">
 <i data-lucide="plus" class="h-5 w-5 mr-2"></i>
 Adicionar Prato
 </button>
 </div>

 <!-- Filtros -->
 <div class="bg-white p-6 rounded-lg shadow-md mb-6">
 <div class="flex flex-wrap gap-4 items-center">
 <div class="flex-1 min-w-64">
 <input type="text" id="filtroPrato" placeholder="Buscar pratos..." 
 class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
 oninput="filtrarPratos()">
 </div>
 <div>
 <select id="filtroCategoriaPrato" onchange="filtrarPratos()" 
 class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 <option value="">Todas as categorias</option>
 <option value="entrada">Entrada</option>
 <option value="prato-principal">Prato Principal</option>
 <option value="sobremesa">Sobremesa</option>
 <option value="bebida">Bebida</option>
 <option value="acompanhamento">Acompanhamento</option>
 </select>
 </div>
 <div>
 <select id="filtroStatusPrato" onchange="filtrarPratos()" 
 class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 <option value="">Todos os status</option>
 <option value="ativo">Ativo</option>
 <option value="inativo">Inativo</option>
 <option value="sazonal">Sazonal</option>
 </select>
 </div>
 </div>
 </div>

 <!-- Lista de Pratos -->
 <div class="bg-white rounded-lg shadow-md">
 <div class="overflow-x-auto">
 <table class="w-full">
 <thead class="bg-gray-50">
 <tr>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Prato</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categoria</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Preço</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Custo</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Margem</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
 <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
 </tr>
 </thead>
 <tbody id="pratosTableBody" class="bg-white divide-y divide-gray-200">
 <!-- Pratos serão inseridos aqui via JavaScript -->
 </tbody>
 </table>
 </div>
 </div>

 <!-- Modal Adicionar/Editar Prato -->
 <div id="pratoModal" class="modal">
 <div class="modal-content">
 <div class="modal-header">
 <h3 id="pratoModalTitle" class="text-xl font-semibold">Adicionar Prato</h3>
 <button onclick="hideModal('pratoModal')" class="text-gray-400 hover:text-gray-600">
 <i data-lucide="x" class="h-6 w-6"></i>
 </button>
 </div>
 <div class="modal-body">
 <form id="pratoForm" onsubmit="savePrato(event)">
 <input type="hidden" id="pratoId">
 
 <!-- Informações Básicas -->
 <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
 <div>
 <label class="block text-sm font-medium text-gray-700 mb-2">Nome do Prato *</label>
 <input type="text" id="pratoNome" required 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 </div>
 <div>
 <label class="block text-sm font-medium text-gray-700 mb-2">Categoria *</label>
 <select id="pratoCategoria" required 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 <option value="">Selecione uma categoria</option>
 <option value="entrada">Entrada</option>
 <option value="prato-principal">Prato Principal</option>
 <option value="sobremesa">Sobremesa</option>
 <option value="bebida">Bebida</option>
 <option value="acompanhamento">Acompanhamento</option>
 </select>
 </div>
 </div>

 <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
 <div>
 <label class="block text-sm font-medium text-gray-700 mb-2">Preço de Venda (R$) *</label>
 <input type="number" id="pratoPreco" step="0.01" min="0" required 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 </div>
 <div>
 <label class="block text-sm font-medium text-gray-700 mb-2">Tempo de Preparo (min)</label>
 <input type="number" id="pratoTempoPreparo" min="0" 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 </div>
 <div>
 <label class="block text-sm font-medium text-gray-700 mb-2">Porções</label>
 <input type="number" id="pratoPorcoes" min="1" value="1" 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 </div>
 </div>

 <div class="mb-6">
 <label class="block text-sm font-medium text-gray-700 mb-2">Descrição</label>
 <textarea id="pratoDescricao" rows="3" 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
 placeholder="Descrição do prato..."></textarea>
 </div>

 <!-- Componentes do Prato -->
 <div class="mb-6">
 <label class="block text-sm font-medium text-gray-700 mb-3">Componentes do Prato</label>
 
 <!-- Tabs para Fichas Técnicas e Insumos -->
 <div class="mb-4">
 <div class="flex border-b border-gray-200">
 <button type="button" id="tabFichas" onclick="switchTab('fichas')" 
 class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 hover:border-gray-300 active-tab">
 Fichas Técnicas
 </button>
 <button type="button" id="tabInsumos" onclick="switchTab('insumos')" 
 class="px-4 py-2 text-sm font-medium text-gray-500 border-b-2 border-transparent hover:text-gray-700 hover:border-gray-300">
 Insumos Individuais
 </button>
 </div>
 </div>
 
 <!-- Fichas Técnicas -->
 <div id="fichasTab" class="tab-content">
 <div id="fichasList" class="space-y-3 mb-4">
 <!-- Fichas técnicas serão adicionadas aqui -->
 </div>
 <button type="button" onclick="addFichaTecnica()" 
 class="bg-blue-100 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-200 transition-colors flex items-center">
 <i data-lucide="plus" class="h-4 w-4 mr-2"></i>
 Adicionar Ficha Técnica
 </button>
 </div>
 
 <!-- Insumos Individuais -->
 <div id="insumosTab" class="tab-content" style="display: none;">
 <div id="ingredientesList" class="space-y-3 mb-4">
 <!-- Ingredientes serão adicionados aqui -->
 </div>
 <button type="button" onclick="addIngrediente()" 
 class="bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors flex items-center">
 <i data-lucide="plus" class="h-4 w-4 mr-2"></i>
 Adicionar Insumo
 </button>
 </div>
 </div>

 <!-- Status -->
 <div class="mb-6">
 <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
 <select id="pratoStatus" 
 class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500">
 <option value="ativo">Ativo</option>
 <option value="inativo">Inativo</option>
 <option value="sazonal">Sazonal</option>
 </select>
 </div>

 <!-- Botões -->
 <div class="flex justify-end space-x-3">
 <button type="button" onclick="hideModal('pratoModal')" 
 class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50">
 Cancelar
 </button>
 <button type="submit" 
 class="px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700">
 Salvar Prato
 </button>
 </div>
 </form>
 </div>
 </div>
 </div>
 </div>

 <div id="fichas" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Fichas Técnicas</h2>
 <div class="bg-white p-8 rounded-lg shadow-md text-center">
 <i data-lucide="notebook-tabs" class="h-16 w-16 mx-auto text-gray-400 mb-4"></i>
 <h3 class="text-xl font-semibold text-gray-600 mb-2">Fichas Técnicas em Desenvolvimento</h3>
 <p class="text-gray-500">Esta funcionalidade será implementada em breve.</p>
 </div>
 </div>

 <div id="importacao" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Importação XML</h2>
 <div class="bg-white p-8 rounded-lg shadow-md text-center">
 <i data-lucide="file-up" class="h-16 w-16 mx-auto text-gray-400 mb-4"></i>
 <h3 class="text-xl font-semibold text-gray-600 mb-2">Importação XML em Desenvolvimento</h3>
 <p class="text-gray-500">Esta funcionalidade será implementada em breve.</p>
 </div>
 </div>

 <div id="configuracoes" class="view">
 <h2 class="text-3xl font-bold mb-6 text-gray-900">Configurações</h2>
 <div class="bg-white p-6 rounded-lg shadow-md max-w-lg mx-auto">
 <div class="space-y-6">
 <div>
 <h3 class="text-lg font-medium text-gray-900">Configurações Padrão</h3>
 <div class="mt-4 space-y-4">
 <div>
 <label for="defaultTaxaPerca" class="block text-sm font-medium text-gray-700">Taxa de Perca Padrão (%)</label>
 <input type="number" id="defaultTaxaPerca" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-orange-500 focus:border-orange-500">
 </div>
 <div>
 <label for="defaultCustoFinalizacao" class="block text-sm font-medium text-gray-700">Custo de Finalização Padrão (%)</label>
 <input type="number" id="defaultCustoFinalizacao" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-orange-500 focus:border-orange-500">
 </div>
 <div>
 <label for="defaultMargemLucro" class="block text-sm font-medium text-gray-700">Margem de Lucro Padrão (%)</label>
 <input type="number" id="defaultMargemLucro" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-orange-500 focus:border-orange-500">
 </div>
 </div>
 </div>
 </div>
 <div class="mt-8 text-right">
 <button onclick="salvarConfiguracoes()" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center shadow-sm transition-colors inline-flex">
 <i data-lucide="save" class="h-5 w-5 mr-2"></i>Salvar Configurações
 </button>
 </div>
 </div>
 </div>
 </main>
 </div>

 <!-- Print Area -->
 <div id="printableArea" style="display: none;"></div>

 <!-- Include the main JavaScript here -->
 <script src="js/main.js"></script>
</body>
</html>
